[gd_scene load_steps=7 format=4 uid="uid://b64uft76tbblp"]

[ext_resource type="Script" uid="uid://x1mxt6bmei2o" path="res://scenes/ui_elements/cinematic/cinematic.gd" id="1_5r6en"]
[ext_resource type="Resource" uid="uid://b1eriy1gdfdkd" path="res://scenes/eternal_loom_sokoban/sokoban.dialogue" id="2_20ol2"]
[ext_resource type="Material" uid="uid://jpl3v3f7elq6" path="res://scenes/eternal_loom_sokoban/components/floor/tiled_mat.tres" id="4_20ol2"]
[ext_resource type="Script" uid="uid://dppvw2f8yh4vu" path="res://scenes/eternal_loom_sokoban/components/system/board/board_2d.gd" id="5_x0rcl"]
[ext_resource type="TileSet" uid="uid://dand23uvn70pg" path="res://scenes/eternal_loom_sokoban/components/eternal_loom_tileset.tres" id="6_nr7ak"]
[ext_resource type="PackedScene" uid="uid://btpeaqx2nur3q" path="res://scenes/eternal_loom_sokoban/components/eternal_loom_ruleset.tscn" id="7_qga2c"]

[node name="SokobanLevel3a" type="Node2D"]

[node name="ColorRect" type="ColorRect" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -2000.0
offset_top = -1000.0
offset_right = 2000.0
offset_bottom = 1000.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0740935, 0.0496062, 0.0467346, 1)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.5, 1.5)

[node name="Cinematic" type="Node2D" parent="."]
script = ExtResource("1_5r6en")
dialogue = ExtResource("2_20ol2")
metadata/_custom_type_script = "uid://x1mxt6bmei2o"

[node name="Board2D" type="Node2D" parent="."]
script = ExtResource("5_x0rcl")
metadata/_custom_type_script = "uid://dppvw2f8yh4vu"

[node name="Floor" type="TileMapLayer" parent="Board2D"]
texture_filter = 1
material = ExtResource("4_20ol2")
tile_map_data = PackedByteArray("AAAAAP7/AgABAAAAAAAAAP//AgABAAAAAAAAAAAAAgABAAAAAAD///3/AgAAAAAAAAAAAP3/AgABAAAAAAD///z/AgAAAAAAAAAAAPz/AgABAAAAAAD///v/AgAAAAAAAAAAAPv/AgABAAAAAAD//wIAAgAAAAAAAAAAAAIAAgABAAAAAAD//wMAAgAAAAAAAAAAAAMAAgABAAAAAAD//wQAAgAAAAAAAAAAAAQAAgABAAAAAAAAAAEAAgABAAAAAAD//wUAAgACAAAAAAAAAAUAAgABAAAAAAA=")
tile_set = ExtResource("6_nr7ak")

[node name="BackgroundThread" type="TileMapLayer" parent="Board2D"]
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAP//BQAAAAAAAAAAAP3/BQAAAAAAAAAAAPz/BQAAAAAAAAAAAPv/BQAAAAAAAAAAAAAABQAAAAAAAAAAAAEABQAAAAAAAAAAAAIABQAAAAAAAAAAAAMABQAAAAAAAAAAAAQABQAAAAAAAAA=")
tile_set = ExtResource("6_nr7ak")

[node name="TargetThread" type="TileMapLayer" parent="Board2D"]
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAP7/AAAAAAAADQA=")
tile_set = ExtResource("6_nr7ak")

[node name="Foreground" type="TileMapLayer" parent="Board2D"]
texture_filter = 1
tile_map_data = PackedByteArray("AAD///r/AAAAAAAABwD//wEAAAAAAAAABwAAAPr/AAAAAAAABwAAAAEAAAAAAAAACQABAPr/AAAAAAAABwABAP7/AAAAAAAAAQABAAEAAAAAAAAABwD+//r/AAAAAAAAAQD+//v/AAAAAAAABwD+//z/AAAAAAAAAQD+//3/AAAAAAAABwD+//7/AAAAAAAABwD+/wEAAAAAAAAABwD+/wIAAAAAAAAAAQD+/wMAAAAAAAAABwD+/wQAAAAAAAAABwD/////AAAAAAAABwD//wAAAAAAAAAABwABAP//AAAAAAAABwABAAAAAAAAAAAABwD///7/AAAAAAAAAQAAAPv/BgAAAAAAAQD+/wYAAAAAAAAABwD//wYAAAAAAAAAAQAAAAYAAAAAAAAABwABAAYAAAAAAAAABwAAAAUABgAAAAAAAgD+/wUAAAAAAAAABwABAPv/AAAAAAAABwABAPz/AAAAAAAAAQABAP3/AAAAAAAABwABAAIAAAAAAAAABwABAAMAAAAAAAAAAQABAAQAAAAAAAAABwABAAUAAAAAAAAABwD///3/AAAAAAAABgA=")
tile_set = ExtResource("6_nr7ak")

[node name="ScreenOverlay" type="CanvasLayer" parent="."]

[node name="RuleEngine" parent="." node_paths=PackedStringArray("board") instance=ExtResource("7_qga2c")]
board = NodePath("../Board2D")
scene_to_go_to = "uid://ughhyyuc83kk"
