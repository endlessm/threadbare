[gd_scene load_steps=15 format=4 uid="uid://bc7mh0pmjqcmw"]

[ext_resource type="TileSet" uid="uid://cff3wffsnp02" path="res://scenes/quests/story_quests/shjourney/7_shjourney_combate/tilesetMinijuego03.tres" id="1_0v8au"]
[ext_resource type="Script" uid="uid://duta00ge0v15u" path="res://scenes/quests/story_quests/shjourney/6_Espada/cinematic_espada.gd" id="2_jrrao"]
[ext_resource type="Resource" uid="uid://crwo368o27j1a" path="res://scenes/quests/story_quests/shjourney/6_Espada/stella_outro_components/espadadialogo.dialogue" id="3_bx3fd"]
[ext_resource type="SpriteFrames" uid="uid://vrthlt7kah8w" path="res://scenes/quests/story_quests/shjourney/Otros_componentes/tim_sprite_frames.tres" id="4_8vj3q"]
[ext_resource type="SpriteFrames" uid="uid://ckmej3sbebfmq" path="res://scenes/quests/story_quests/shjourney/6_Espada/animacionEspada.tres" id="6_8vj3q"]
[ext_resource type="PackedScene" uid="uid://bdtis4ye3hah2" path="res://scenes/quests/story_quests/shjourney/9_shjourney_outro_2/neblina.tscn" id="6_64amr"]
[ext_resource type="PackedScene" uid="uid://ipvcfv2g0oi1" path="res://scenes/game_elements/characters/npcs/talker/talker.tscn" id="7_8vj3q"]
[ext_resource type="AudioStream" uid="uid://b6bwvcgtqn31p" path="res://scenes/quests/story_quests/shjourney/7_shjourney_combate/assets/Pelea_final.mp3" id="8_8vj3q"]
[ext_resource type="Script" uid="uid://cm5hbvvpkiw7u" path="res://scenes/quests/story_quests/shjourney/4_Laberinto/Music/music.gd" id="9_kbdil"]

[sub_resource type="Animation" id="Animation_64amr"]
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Character:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(48, 232), Vector2(377, 227)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Character:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D2:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedSprite2D2:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(882, 1348)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("AnimatedSprite2D2:animation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"hint"]
}

[sub_resource type="Animation" id="Animation_bx3fd"]
resource_name = "pasos"
length = 2.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Character:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(48, 232), Vector2(374, 233)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Character:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2, 2.1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [&"walk", &"walk", &"idle"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2.1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(426, 201), Vector2(426, 201)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedSprite2D2:animation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 2.1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [&"hint", &"hint"]
}

[sub_resource type="Animation" id="Animation_jrrao"]
resource_name = "saca espada"
length = 2.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Character:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(374, 233), Vector2(374, 233)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Character:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [&"idle", &"idle"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedSprite2D2:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedSprite2D2:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 2, 2.1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(426, 201), Vector2(426, 201), Vector2(882, 1348)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("AnimatedSprite2D2:animation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 2.1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [&"idle", &"idle"]
}

[sub_resource type="Animation" id="Animation_peqcd"]
resource_name = "sevaasiguientemapa"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Character:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(374, 233), Vector2(891, 243)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Character:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [&"walk", &"walk", &"walk", &"walk", &"walk"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_peqcd"]
_data = {
&"RESET": SubResource("Animation_64amr"),
&"pasos": SubResource("Animation_bx3fd"),
&"saca espada": SubResource("Animation_jrrao"),
&"sevaasiguientemapa": SubResource("Animation_peqcd")
}

[node name="Outro" type="Node2D"]
texture_filter = 1

[node name="TileMapLayers" type="Node2D" parent="."]

[node name="PISO AFUERA" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAAAAMAEgAAAAAAAAABAAMAEgAAAAAAAAACAAMAEgAAAAAAAAAAAAQAEgAAAAAAAAABAAQAEgAAAAAAAAACAAQAEgAAAAAAAAACAAIAEgAAAAAAAAADAAIAEgAAAAAAAAAEAAIAEgAAAAAAAAAFAAIAEgAAAAAAAAAFAAEAEgAAAAAAAAAGAAEAEgAAAAAAAAAHAAEAEgAAAAAAAAAIAAEAEgAAAAAAAAAJAAEAEgAAAAAAAAAJAAIAEgAAAAAAAAAKAAIAEgAAAAAAAAAIAAIAEgAAAAAAAAAHAAIAEgAAAAAAAAAGAAIAEgAAAAAAAAALAAIAEgAAAAAAAAALAAMAEgAAAAAAAAAKAAMAEgAAAAAAAAAMAAMAEgAAAAAAAAANAAMAEgAAAAAAAAAOAAMAEgAAAAAAAAACAAUAEgAAAAAAAAADAAUAEgAAAAAAAAAEAAUAEgAAAAAAAAAEAAYAEgAAAAAAAAAFAAYAEgAAAAAAAAAGAAYAEgAAAAAAAAAHAAYAEgAAAAAAAAAIAAYAEgAAAAAAAAAIAAUAEgAAAAAAAAAJAAUAEgAAAAAAAAAKAAUAEgAAAAAAAAAOAAQAEgAAAAAAAAAJAAYAEgAAAAAAAAANAAQAEgAAAAAAAAAMAAQAEgAAAAAAAAALAAQAEgAAAAAAAAAKAAQAEgAAAAAAAAALAAUAEgAAAAAAAAADAAMAEgAAAAAAAAADAAQAEgAAAAAAAAAEAAQAEgAAAAAAAAAFAAQAEgAAAAAAAAAGAAQAEgAAAAAAAAAFAAMAEgAAAAAAAAAGAAMAEgAAAAAAAAAEAAMAEgAAAAAAAAAGAAUAEgAAAAAAAAAFAAUAEgAAAAAAAAAHAAQAEgAAAAAAAAAIAAMAEgAAAAAAAAAJAAMAEgAAAAAAAAAJAAQAEgAAAAAAAAAIAAQAEgAAAAAAAAAHAAUAEgAAAAAAAAAHAAMAEgAAAAAAAAAEAAEAEgAAAAAAAAA=")
tile_set = ExtResource("1_0v8au")

[node name="arboles" type="TileMapLayer" parent="TileMapLayers"]
position = Vector2(-192, 120)
tile_set = ExtResource("1_0v8au")

[node name="pared calavera2" type="TileMapLayer" parent="TileMapLayers"]
position = Vector2(8.00002, -46)
scale = Vector2(1.3, 1.3)
tile_set = ExtResource("1_0v8au")

[node name="Floor2" type="TileMapLayer" parent="TileMapLayers"]
texture_filter = 1
tile_map_data = PackedByteArray("AAD+//7/JwACAAAAAAD+////JwACAAEAAAAJAAAAJgAGAAQAAAAIAAAAJgAGAAQAAAAHAAAAJgAGAAQAAAAGAAAAJgAGAAQAAAAFAAAAJgAGAAQAAAAEAAAAJgAGAAQAAAAKAAEAJgAGAAQAAAAKAAAAJgAGAAQAAAALAAEAJgAGAAQAAAALAAAAJgAGAAQAAAAMAAIAJgAGAAQAAAAMAAEAJgAGAAQAAAAMAAAAJgAGAAQAAAANAAIAJgAGAAQAAAANAAEAJgAGAAQAAAANAAAAJgAGAAQAAAAOAAAAJgAGAAQAAAAOAAEAJgAGAAQAAAAOAAIAJgAGAAQAAAAMAAUAJgAGAAQAAAAMAAYAJgAGAAQAAAAMAAcAJgAIAAQAAAAMAAgAJgAGAAQAAAANAAUAJgAGAAQAAAANAAYAJgAGAAQAAAANAAcAJgAGAAQAAAANAAgAJgAGAAQAAAAOAAUAJgAGAAQAAAAOAAYAJgAGAAQAAAAOAAcAJgAGAAQAAAAOAAgAJgAGAAQAAAALAAYAJgAGAAQAAAALAAcAJgAGAAQAAAALAAgAJgAGAAQAAAAKAAcAJgAIAAQAAAAKAAgAJgAIAAQAAAAKAAkAJgAGAAQAAAAKAAYAJgAGAAQAAAAJAAcAJgAGAAQAAAAJAAgAJgAGAAQAAAAIAAcAJgAGAAQAAAAIAAgAJgAGAAQAAAAHAAcAJgAGAAQAAAAHAAgAJgAGAAQAAAAGAAcAJgAGAAQAAAAGAAgAJgAGAAQAAAAEAAcAJgAGAAQAAAAFAAcAJgAGAAQAAAAFAAgAJgAGAAQAAAAFAAkAJgAGAAQAAAAEAAgAJgAGAAQAAAADAAcAJgAGAAQAAAADAAYAJgAGAAQAAAADAAgAJgAGAAQAAAACAAcAJgAGAAQAAAACAAYAJgAGAAQAAAABAAcAJgAGAAQAAAABAAgAJgAGAAQAAAABAAYAJgAGAAQAAAACAAgAJgAGAAQAAAABAAUAJgAGAAQAAAAAAAUAJgAGAAQAAAAAAAYAJgAGAAQAAAAAAAcAJgAGAAQAAAAAAAgAJgAGAAQAAAAAAAkAJgAGAAQAAAABAAIAJgAGAAQAAAABAAEAJgAGAAQAAAAAAAEAJgAGAAQAAAAAAAIAJgAGAAQAAAAAAAAAJgAGAAQAAAABAAAAJgAGAAQAAAACAAEAJgAGAAQAAAACAAAAJgAGAAQAAAADAAAAJgAGAAQAAAADAAEAJgAGAAQAAAA=")
tile_set = ExtResource("1_0v8au")

[node name="Floor" type="TileMapLayer" parent="TileMapLayers"]
texture_filter = 1
tile_map_data = PackedByteArray("AAD+//7/JwACAAAAAAAEAAAAGwAAAAAAAAAEAAEAGwAAAAEAAAAEAAUAGwAAAAAAAAAEAAYAGwAAAAEAAAAJAAUAGwAAAAAAAAAJAAYAGwAAAAEAAAAJAAAAGwAAAAAAAAAJAAEAGwAAAAEAAAA=")
tile_set = ExtResource("1_0v8au")

[node name="pared calavera" type="TileMapLayer" parent="TileMapLayers"]
position = Vector2(8, -46)
tile_set = ExtResource("1_0v8au")

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0
zoom = Vector2(2, 2)
position_smoothing_enabled = true
editor_draw_limits = true

[node name="CinematicEspada" type="Node2D" parent="." node_paths=PackedStringArray("animation_player")]
script = ExtResource("2_jrrao")
dialogue = ExtResource("3_bx3fd")
animation_player = NodePath("../AnimationPlayer")
next_scene = "uid://detarlsgchyx3"
metadata/_custom_type_script = "uid://x1mxt6bmei2o"

[node name="Character" type="AnimatedSprite2D" parent="."]
z_index = 1
position = Vector2(48, 232)
scale = Vector2(1.7, 1.7)
skew = -0.000253081
sprite_frames = ExtResource("4_8vj3q")
animation = &"walk"
autoplay = "idle"
speed_scale = 0.5

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_peqcd")
}

[node name="ParallaxBackground" parent="." instance=ExtResource("6_64amr")]
scale = Vector2(0.5, 0.5)
transform = Transform2D(0.5, 0, 0, 0.5, 0, 0)

[node name="AnimatedSprite2D2" type="AnimatedSprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(882, 1348)
scale = Vector2(0.5, 0.5)
sprite_frames = ExtResource("6_8vj3q")
animation = &"hint"
autoplay = "idle"

[node name="Guardian" parent="." instance=ExtResource("7_8vj3q")]
visible = false
position = Vector2(445, 108)
look_at_side = 0

[node name="Music" type="Node2D" parent="."]
position = Vector2(132, 262)

[node name="Musica" type="AudioStreamPlayer" parent="Music"]
stream = ExtResource("8_8vj3q")
autoplay = true
script = ExtResource("9_kbdil")
