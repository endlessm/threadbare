[gd_scene load_steps=14 format=4 uid="uid://byv07uyo4v33o"]

[ext_resource type="TileSet" uid="uid://odqop1b8fuu6" path="res://scenes/quests/story_quests/after_the_tremor/0_intro_part4/intro_components/titleset_arboles.tres" id="1_2a80n"]
[ext_resource type="Texture2D" uid="uid://cft3fgeayyehj" path="res://scenes/quests/story_quests/after_the_tremor/0_intro_part4/intro_components/img/cut-tree.png" id="3_xbg5n"]
[ext_resource type="SpriteFrames" uid="uid://bffx1trcr66r6" path="res://scenes/quests/story_quests/after_the_tremor/player_components/after_the_tremor_player.tres" id="4_18cvv"]
[ext_resource type="Texture2D" uid="uid://bggjp2lfmo5dx" path="res://scenes/quests/story_quests/after_the_tremor/0_intro_part4/intro_components/img/ball.png" id="4_oegj3"]
[ext_resource type="Script" uid="uid://dunsvrhq42214" path="res://scenes/game_elements/fx/shaker/components/shaker.gd" id="5_ff7m2"]
[ext_resource type="Resource" uid="uid://cxkuh283aeqhw" path="res://scenes/quests/story_quests/after_the_tremor/0_intro_part4/intro_components/dialogue/afuera_jugando.dialogue" id="6_jly1l"]
[ext_resource type="Script" uid="uid://skmynvou4l31" path="res://scenes/quests/story_quests/after_the_tremor/0_intro_part4/intro_components/scripts/cinematicWithShake.gd" id="6_oegj3"]
[ext_resource type="PackedScene" uid="uid://v3usqiwy5wpr" path="res://scenes/game_elements/props/decoration/rock/rock.tscn" id="7_fxwn8"]

[sub_resource type="Animation" id="Animation_ff7m2"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Charlie:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Charlie:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(528, 312)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Bryan:animation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Bryan:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(198, 342)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Ball:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(445, 352)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Ball:rotation")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Charlie:flip_h")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_1p1iu"]
resource_name = "charlie_closer"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Bryan:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 2.0000002),
"update": 1,
"values": [&"walk", &"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Bryan:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 0.65975404),
"update": 0,
"values": [Vector2(200, 390), Vector2(291, 418)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Charlie:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 0.6830201),
"update": 0,
"values": [Vector2(466, 327), Vector2(363, 422)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Charlie:animation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1.7411014),
"update": 1,
"values": [&"walk", &"idle"]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Bryan:speed_scale")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1.4142138),
"update": 0,
"values": [0.6]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Charlie:speed_scale")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.2]
}

[sub_resource type="Animation" id="Animation_oegj3"]
resource_name = "goal"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Charlie:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2334),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(528, 312), Vector2(466, 327)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Charlie:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.23343334),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [&"walk", &"idle"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Bryan:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.3, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(198, 342), Vector2(200, 390)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Bryan:animation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.3, 0.5),
"transitions": PackedFloat32Array(2.3784137, 0.5358867),
"update": 1,
"values": [&"walk", &"idle"]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Ball:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.25, 0.36978304, 0.46666667, 0.5814199, 0.71398365, 0.8488731, 0.9907395, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(445, 352), Vector2(412.99997, 362.00003), Vector2(372.99997, 358), Vector2(328, 346.00003), Vector2(267, 330), Vector2(210, 312.00003), Vector2(163.99998, 302.00003), Vector2(121, 291.00003)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Ball:rotation")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.25, 0.46666667, 0.6333333, 0.9, 1.0666667, 1.2),
"transitions": PackedFloat32Array(1, 1, 1.9318727, 0.5000001, 0.45062524, 0.49999982),
"update": 0,
"values": [0.0, 6.283185307179586, 12.566370614359172, 18.84955592153876, 31.41592653589793, 31.41592653589793]
}

[sub_resource type="Animation" id="Animation_yd5tl"]
resource_name = "walk_off"
length = 1.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Charlie:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Charlie:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(363, 422), Vector2(1008, 71)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Bryan:animation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk"]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Bryan:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1.6),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(291, 418), Vector2(627, -28)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Charlie:flip_h")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ff7m2"]
_data = {
&"RESET": SubResource("Animation_ff7m2"),
&"charlie_closer": SubResource("Animation_1p1iu"),
&"goal": SubResource("Animation_oegj3"),
&"walk_off": SubResource("Animation_yd5tl")
}

[node name="Intro" type="Node2D"]

[node name="TileMapLayers" type="Node2D" parent="."]

[node name="Ground" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAAAAUAAQAAAAEAAAABAAUAAQABAAEAAAACAAUAAQABAAEAAAADAAUAAQABAAEAAAAEAAUAAQABAAEAAAAFAAUAAQABAAEAAAAGAAUAAQABAAEAAAAHAAUAAQABAAEAAAAIAAUAAQABAAEAAAAJAAUAAQABAAEAAAAKAAUAAQABAAEAAAALAAUAAQABAAEAAAAMAAUAAQABAAEAAAANAAUAAQABAAEAAAAAAAYAAQAAAAEAAAAAAAgAAQAAAAEAAAABAAYAAQABAAEAAAABAAcAAQABAAEAAAABAAgAAQABAAEAAAACAAYAAQABAAEAAAACAAcAAQABAAEAAAACAAgAAQABAAEAAAADAAYAAQABAAEAAAADAAcAAQABAAEAAAADAAgAAQABAAEAAAAEAAYAAQABAAEAAAAEAAcAAQABAAEAAAAEAAgAAQABAAEAAAAFAAYAAQABAAEAAAAFAAcAAQABAAEAAAAFAAgAAQABAAEAAAAGAAYAAQABAAEAAAAGAAcAAQABAAEAAAAGAAgAAQABAAEAAAAHAAYAAQABAAEAAAAHAAcAAQABAAEAAAAHAAgAAQABAAEAAAAIAAYAAQABAAEAAAAIAAcAAQABAAEAAAAIAAgAAQABAAEAAAAJAAYAAQABAAEAAAAJAAcAAQABAAEAAAAJAAgAAQABAAEAAAAKAAYAAQABAAEAAAAKAAcAAQABAAEAAAAKAAgAAAAAAAAAAAALAAYAAQABAAEAAAALAAgAAAAAAAAAAAAMAAYAAQABAAEAAAAMAAcAAAAAAAAAAAAMAAgAAAAAAAAAAAANAAYAAAAAAAAAAAANAAcAAAAAAAAAAAANAAgAAAAAAAAAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAAAAAAOAAgAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAEAAQAAAAEAAAABAAEAAQABAAEAAAACAAEAAQABAAEAAAACAAIAAQABAAEAAAAEAAIAAQABAAEAAAAFAAIAAQABAAEAAAAFAAMAAQABAAEAAAAGAAMAAQABAAEAAAAHAAQAAQABAAEAAAAIAAQAAQABAAEAAAAOAAQAAQACAAEAAAAOAAMAAQABAAEAAAAOAAIAAQABAAEAAAAOAAEABwADAAEAAAAOAAAAAQACAAAAAAANAAQAAQABAAEAAAANAAMAAQABAAEAAAAMAAQAAQABAAEAAAAMAAMAAQABAAEAAAAMAAIAAQABAAEAAAAMAAEAAQABAAEAAAAMAAAAAQABAAAAAAALAAQAAQABAAEAAAALAAMAAQABAAEAAAALAAIAAQABAAEAAAALAAEAAQABAAEAAAALAAAAAQABAAAAAAAKAAQAAQABAAEAAAAKAAMAAQABAAEAAAAKAAIAAQABAAEAAAAKAAEAAQABAAEAAAAKAAAAAQABAAAAAAAJAAQAAQABAAEAAAAJAAMAAQABAAEAAAAJAAIAAQABAAEAAAAJAAEAAQABAAEAAAAJAAAABwADAAEAAAAIAAMAAQABAAEAAAAIAAIAAQABAAEAAAAIAAEAAQABAAEAAAAIAAAAAQABAAAAAAAHAAMAAQABAAEAAAAHAAIAAQABAAEAAAAHAAEAAQABAAEAAAAHAAAAAQABAAAAAAAGAAQAAQABAAEAAAAGAAIAAQABAAEAAAAGAAEAAQABAAEAAAAGAAAAAQABAAAAAAAFAAQAAQABAAEAAAAFAAEAAQABAAEAAAAFAAAAAQABAAAAAAAEAAQAAQABAAEAAAAEAAMAAQABAAEAAAAEAAEAAQABAAEAAAAEAAAAAQABAAAAAAADAAQAAQABAAEAAAADAAEAAQABAAEAAAADAAAAAQABAAAAAAACAAQAAQABAAEAAAACAAMAAQABAAEAAAACAAAAAQABAAAAAAABAAQAAQABAAEAAAABAAMAAQABAAEAAAABAAIAAQABAAEAAAABAAAAAQABAAAAAAAAAAQAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAIAAQAAAAEAAAANAAIAAQABAAEAAAANAAEAAQABAAEAAAANAAAAAQABAAAAAAAAAAcAAQAAAAEAAAADAAIAAQABAAEAAAADAAMAAQABAAEAAAALAAcAAQABAAEAAAAOAAUAAQACAAEAAAA=")
tile_set = ExtResource("1_2a80n")

[node name="Sand" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAAAAAAGgAAAAAAAAAAAAEAGgAAAAAAAAAAAAIAGgAAAAAAAAAAAAMAGgAAAAAAAAAAAAQAGgAAAAAAAAAAAAUAGgAAAAAAAAAAAAYAGgAAAAAAAAADAAQAAQABAAEAAAACAAAAGgAAAAAAAAABAAAAGgAAAAAAAAACAAEAGgAAAAAAAAACAAIAGgAAAAAAAAABAAIAGgAAAAAAAAABAAMAGgAAAAAAAAABAAEAGgAAAAAAAAACAAgAGgAAAAAAAAAAAAcAGgAAAAAAAAAEAAAAFwADAAAAAAAOAAIAFwADAAAAAAADAAEAGgAAAAAAAAADAAAAGgAAAAAAAAAOAAYAAAAAAAAAAAAMAAYAGAABAAEAAAANAAUAGAABAAEAAAAOAAUAGAABAAEAAAAMAAUAGAABAAEAAAALAAYAGAABAAEAAAALAAcAGAABAAEAAAAKAAcAGAABAAEAAAAJAAgAGAABAAEAAAAJAAcAGAABAAEAAAAIAAgAGAABAAEAAAA=")
tile_set = ExtResource("1_2a80n")

[node name="Furniture" type="Node" parent="TileMapLayers"]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(153, 366)
zoom = Vector2(1.5, 1.5)
limit_left = 0
limit_top = 0
limit_right = 960
limit_bottom = 540
position_smoothing_enabled = true
editor_draw_limits = true

[node name="Shaker" type="Node2D" parent="." node_paths=PackedStringArray("target")]
script = ExtResource("5_ff7m2")
target = NodePath("../Camera2D")
shake_intensity = 45.0
duration = 2.0
frequency = 40.0
metadata/_custom_type_script = "uid://dunsvrhq42214"

[node name="OnTheGround" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Charlie" type="AnimatedSprite2D" parent="OnTheGround"]
position = Vector2(528, 312)
sprite_frames = ExtResource("4_18cvv")
animation = &"idle"
autoplay = "idle"
speed_scale = 1.2
flip_h = true

[node name="Bryan" type="AnimatedSprite2D" parent="OnTheGround"]
position = Vector2(198, 342)
sprite_frames = ExtResource("4_18cvv")
animation = &"idle"
autoplay = "idle"
speed_scale = 0.6

[node name="Ball" type="Sprite2D" parent="OnTheGround"]
position = Vector2(445, 352)
scale = Vector2(0.080000006, 0.08)
texture = ExtResource("4_oegj3")

[node name="Portería" type="Sprite2D" parent="OnTheGround"]
position = Vector2(197, 234)
scale = Vector2(0.12799993, 0.10200005)
texture = ExtResource("3_xbg5n")

[node name="CutTree" type="Sprite2D" parent="OnTheGround/Portería"]
position = Vector2(-15.625023, 2029.4108)
scale = Vector2(0.79837525, 0.8157051)
texture = ExtResource("3_xbg5n")

[node name="AnimationPlayer" type="AnimationPlayer" parent="OnTheGround"]
libraries = {
&"": SubResource("AnimationLibrary_ff7m2")
}

[node name="ScreenOverlay" type="CanvasLayer" parent="."]

[node name="Cinematic" type="Node2D" parent="." node_paths=PackedStringArray("shaker", "animation_player")]
script = ExtResource("6_oegj3")
shaker = NodePath("../Shaker")
dialogue = ExtResource("6_jly1l")
animation_player = NodePath("../OnTheGround/AnimationPlayer")
next_scene = "uid://2djcqdm1n1hs"
metadata/_custom_type_script = "uid://x1mxt6bmei2o"

[node name="Rock" parent="." instance=ExtResource("7_fxwn8")]
position = Vector2(917, 306)
