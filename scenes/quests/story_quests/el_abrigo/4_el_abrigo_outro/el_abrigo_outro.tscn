[gd_scene load_steps=18 format=4 uid="uid://c5mblxkgfxr8r"]

[ext_resource type="PackedScene" uid="uid://cfcgrfvtn04yp" path="res://scenes/ui_elements/hud/hud.tscn" id="1_nujpr"]
[ext_resource type="TileSet" uid="uid://07fq3rspk8ia" path="res://scenes/tileset.tres" id="2_jm5ol"]
[ext_resource type="SpriteFrames" uid="uid://maj2nfoclfwd" path="res://scenes/quests/story_quests/el_abrigo/el_abrigo_player_components/el_abrigo_player.tres" id="3_7j76p"]
[ext_resource type="TileSet" uid="uid://chmqpyc2nqxxt" path="res://scenes/quests/story_quests/el_abrigo/el_abrigo_tileset/el_abrigo_tileset.tres" id="3_au1pc"]
[ext_resource type="Script" uid="uid://x1mxt6bmei2o" path="res://scenes/ui_elements/cinematic/cinematic.gd" id="4_qrcvu"]
[ext_resource type="PackedScene" uid="uid://7873qa54birk" path="res://scenes/game_elements/props/tree/tree.tscn" id="5_n54in"]
[ext_resource type="Resource" uid="uid://835k0tyxgogr" path="res://scenes/quests/story_quests/el_abrigo/4_el_abrigo_outro/el_abrigo_outro_components/el_abrigo_outro.dialogue" id="5_soumh"]
[ext_resource type="SpriteFrames" uid="uid://djwymcffy83" path="res://scenes/game_elements/props/tree/components/tree_spriteframes_red.tres" id="6_6ai4x"]
[ext_resource type="PackedScene" uid="uid://v3usqiwy5wpr" path="res://scenes/game_elements/props/decoration/rock/rock.tscn" id="7_dkqu7"]
[ext_resource type="PackedScene" uid="uid://bp20cjimwi8l0" path="res://scenes/game_elements/props/buildings/house/house_2.tscn" id="7_ol0u0"]
[ext_resource type="Texture2D" uid="uid://b8lsrb3nntxoo" path="res://scenes/quests/story_quests/el_abrigo/0_el_abrigo_intro/intro_components/el_abrigo_npc_Intro_idle.png" id="8_rrrak"]

[sub_resource type="AtlasTexture" id="AtlasTexture_hg5iq"]
atlas = ExtResource("8_rrrak")
region = Rect2(0, 0, 115, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_rpwsp"]
atlas = ExtResource("8_rrrak")
region = Rect2(115, 0, 115, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_3ts21"]
atlas = ExtResource("8_rrrak")
region = Rect2(230, 0, 115, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_aa4wb"]
atlas = ExtResource("8_rrrak")
region = Rect2(345, 0, 115, 192)

[sub_resource type="AtlasTexture" id="AtlasTexture_flnpk"]
atlas = ExtResource("8_rrrak")
region = Rect2(460, 0, 115, 192)

[sub_resource type="SpriteFrames" id="SpriteFrames_pmb87"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hg5iq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rpwsp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3ts21")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aa4wb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_flnpk")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}]

[node name="Outro" type="Node2D"]

[node name="HUD" parent="." instance=ExtResource("1_nujpr")]

[node name="TileMapLayers" type="Node2D" parent="."]

[node name="Ground" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAAAAUAAQAGAAMAAAABAAUAAQAGAAMAAAACAAUAAQAGAAMAAAADAAUAAQAGAAMAAAAEAAUAAQAGAAMAAAAFAAUAAQAGAAMAAAAGAAUAAQAGAAMAAAAHAAUAAQAGAAMAAAAIAAUAAQAGAAMAAAAJAAUAAQAGAAMAAAAKAAUAAQAGAAMAAAALAAUAAQAGAAMAAAAMAAUAAQAGAAMAAAANAAUAAQAGAAMAAAAOAAUAAQAGAAMAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAEAAAABAAYAAQABAAAAAAABAAcAAQABAAEAAAACAAYAAQABAAAAAAACAAcAAQABAAEAAAADAAYAAQABAAAAAAADAAcAAQABAAEAAAAEAAYAAQABAAAAAAAEAAcAAQABAAEAAAAFAAYAAQABAAAAAAAFAAcAAQABAAEAAAAGAAYAAQABAAAAAAAGAAcAAQABAAEAAAAHAAYAAQABAAAAAAAHAAcAAQABAAEAAAAIAAYAAQABAAAAAAAIAAcAAQABAAEAAAAJAAYAAQABAAAAAAAJAAcAAQABAAEAAAAKAAYAAQABAAAAAAAKAAcAAQABAAEAAAALAAYAAQABAAAAAAALAAcAAQABAAEAAAAMAAYAAQABAAAAAAAMAAcAAQABAAEAAAANAAYAAQABAAAAAAANAAcAAQABAAEAAAAOAAYAAQACAAAAAAAOAAcAAQACAAEAAAAAAAAAAQAAAAAAAAAAAAEAAQAAAAEAAAABAAEAAQABAAEAAAACAAEAAQABAAEAAAADAAEAAQABAAEAAAADAAIAAQABAAEAAAAEAAIAAQABAAEAAAAFAAIAAQABAAEAAAAFAAMAAQABAAEAAAABAAAAAQABAAAAAAABAAIAAQABAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAIAAAABAAMAAQABAAEAAAABAAQAAQABAAIAAAACAAQAAQABAAIAAAACAAMAAQABAAEAAAACAAIAAQABAAEAAAADAAQAAQABAAIAAAADAAMAAQABAAEAAAAEAAMAAQABAAEAAAAEAAQAAQABAAIAAAAFAAQAAQABAAIAAAAGAAQAAQABAAIAAAAHAAQAAQABAAIAAAAIAAQAAQABAAIAAAAJAAQAAQABAAIAAAAKAAQAAQABAAIAAAALAAQAAQABAAIAAAAMAAQAAQABAAIAAAANAAQAAQABAAIAAAAOAAQAAQACAAIAAAAOAAMAAQACAAEAAAAOAAIAAQACAAEAAAAOAAEAAQACAAEAAAAOAAAAAQACAAAAAAANAAAAAQABAAAAAAAMAAAAAQABAAAAAAALAAAAAQABAAAAAAAKAAAAAQABAAAAAAAJAAAAAQABAAAAAAAIAAAAAQABAAAAAAAGAAAAAQABAAAAAAAFAAAAAQABAAAAAAAEAAAAAQABAAAAAAACAAAAAQABAAAAAAADAAAAAQABAAAAAAAEAAEAAQABAAEAAAAFAAEAAQABAAEAAAAGAAEAAQABAAEAAAAHAAEAAQABAAEAAAAIAAEAAQABAAEAAAAJAAEAAQABAAEAAAAKAAEAAQABAAEAAAALAAEAAQABAAEAAAAMAAEAAQABAAEAAAANAAEAAQABAAEAAAANAAIAAQABAAEAAAANAAMAAQABAAEAAAAMAAMAAQABAAEAAAALAAMAAQABAAEAAAAKAAMAAQABAAEAAAAJAAMAAQABAAEAAAAIAAMAAQABAAEAAAAHAAMAAQABAAEAAAAGAAMAAQABAAEAAAAGAAIAAQABAAEAAAAHAAIAAQABAAEAAAAIAAIAAQABAAEAAAAJAAIAAQABAAEAAAAKAAIAAQABAAEAAAALAAIAAQABAAEAAAAMAAIAAQABAAEAAAAAAAgAAQAAAAIAAAABAAgAAQABAAIAAAACAAgAAQABAAIAAAADAAgAAQABAAIAAAAEAAgAAQABAAIAAAAFAAgAAQABAAIAAAAGAAgAAQABAAIAAAAHAAgAAQABAAIAAAAIAAgAAQABAAIAAAAJAAgAAQABAAIAAAAKAAgAAQABAAIAAAALAAgAAQABAAIAAAAMAAgAAQABAAIAAAANAAgAAQABAAIAAAAOAAgAAQACAAIAAAAHAAAAAQABAAAAAAA=")
tile_set = ExtResource("2_jm5ol")
metadata/_edit_lock_ = true

[node name="Water" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAAAAAAAgABAAEAAAABAAAAAgABAAEAAAAAAAEAAgABAAIAAAACAAAAAgABAAEAAAABAAEAAgABAAIAAAADAAAAAgABAAEAAAACAAEAAgABAAIAAAAEAAAAAgABAAEAAAADAAEAAgABAAIAAAAFAAAAAgABAAEAAAAGAAAAAgABAAEAAAAFAAEAAgABAAIAAAAHAAAAAgACAAEAAAAGAAEAAgABAAIAAAA=")
tile_set = ExtResource("3_au1pc")

[node name="Bridge" type="TileMapLayer" parent="TileMapLayers"]
tile_map_data = PackedByteArray("AAAEAAAAAwAAAAIAAAA=")
tile_set = ExtResource("3_au1pc")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(153, 366)
zoom = Vector2(1.333, 1.333)
limit_left = 0
limit_top = 0
limit_right = 960
limit_bottom = 540
position_smoothing_enabled = true
editor_draw_limits = true

[node name="OnTheGround" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Character" type="AnimatedSprite2D" parent="OnTheGround"]
position = Vector2(400, 349)
sprite_frames = ExtResource("3_7j76p")
animation = &"idle"
autoplay = "idle"

[node name="Merchant" type="AnimatedSprite2D" parent="OnTheGround"]
position = Vector2(596, 262)
sprite_frames = SubResource("SpriteFrames_pmb87")
animation = &"idle"
autoplay = "idle"

[node name="Decoration" type="Node2D" parent="OnTheGround"]

[node name="Trees" type="Node2D" parent="OnTheGround/Decoration"]

[node name="Tree1" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(98, 115)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree2" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(159, 200)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree3" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(756, 82)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree4" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(491.00003, 133)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree5" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(622, 95)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree6" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(869.00006, 159)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree7" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(169, 539)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree8" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
z_index = 1
position = Vector2(346.00003, 582)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="Tree9" parent="OnTheGround/Decoration/Trees" instance=ExtResource("5_n54in")]
position = Vector2(755, 547)
scale = Vector2(1.2198, 1.16248)
sprite_frames = ExtResource("6_6ai4x")

[node name="House_2" parent="OnTheGround/Decoration" instance=ExtResource("7_ol0u0")]
position = Vector2(750, 208)

[node name="ScreenOverlay" type="CanvasLayer" parent="."]

[node name="Cinematic" type="Node2D" parent="."]
script = ExtResource("4_qrcvu")
dialogue = ExtResource("5_soumh")
next_scene = "uid://cufkthb25mpxy"
metadata/_custom_type_script = "uid://x1mxt6bmei2o"

[node name="Rock" parent="." instance=ExtResource("7_dkqu7")]
position = Vector2(365, 108)
