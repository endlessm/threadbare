# SPDX-FileCopyrightText: The Threadbare Authors
# SPDX-License-Identifier: MPL-2.0
id: org.endlessaccess.threadbare
runtime: org.freedesktop.Platform
runtime-version: '25.08'
base: org.godotengine.godot.BaseApp
base-version: '4.5'
sdk: org.freedesktop.Sdk
command: godot-runner
finish-args:
- --share=ipc
- --socket=wayland
- --socket=fallback-x11
- --socket=pulseaudio
- --device=all
- --talk-name=org.freedesktop.ScreenSaver
modules:
- name: threadbare
  buildsystem: simple
  sources:

  - type: dir
    path: ..

  build-commands:
  # PCK file automatically exported in CI; if building locally, in Godot go to
  # "Project" → "Export…" → "Linux (Runnable)" → "Export PCK/ZIP" and export to
  # "build/threadbare.pck"
  - install -Dm644 build/threadbare.pck ${FLATPAK_DEST}/bin/godot-runner.pck

  - linux/install-metadata
